# bmi_engine.py
"""
å¥åº·å»ºè­°å¼•æ“æ¨¡çµ„

æ­¤æ¨¡çµ„å¯¦ç¾ç°¡å–®å·¥å» æ¨¡å¼ï¼ˆSimple Factory Patternï¼‰ï¼Œæ ¹æ“š BMI å€¼
å‹•æ…‹å‰µå»ºå°æ‡‰çš„å¥åº·å»ºè­°ç‰©ä»¶ã€‚åŒ…å«å…­ç¨® BMI ç­‰ç´šçš„å»ºè­°é¡åˆ¥ã€‚
"""


class HealthAdvice:
    """
    å¥åº·å»ºè­°åŸºé¡ï¼ˆæŠ½è±¡é¡åˆ¥ï¼‰
    
    æ‰€æœ‰å…·é«”çš„å¥åº·å»ºè­°é¡åˆ¥éƒ½æ‡‰ç¹¼æ‰¿æ­¤åŸºé¡ï¼Œä¸¦å¯¦ç¾ get_info æ–¹æ³•ã€‚
    """
    def get_info(self, bmi):
        """
        å–å¾—å¥åº·å»ºè­°è³‡è¨Š
        
        Args:
            bmi (float): BMI å€¼
        
        Returns:
            str: å¥åº·å»ºè­°æ–‡å­—
        """
        pass


class Underweight(HealthAdvice):
    """é«”é‡éè¼•å»ºè­°é¡åˆ¥ï¼ˆBMI < 18.5ï¼‰"""
    def get_info(self, bmi):
        advice = f"BMI {bmi}: æ‚¨çš„é«”é‡éè¼•\n"
        advice += "é£²é£Ÿå»ºè­°ï¼šå¢åŠ é«˜è›‹ç™½é£Ÿç‰©ï¼ˆè‚‰é¡ã€è›‹ã€è±†é¡ï¼‰ã€å …æœã€ä¹³è£½å“\n"
        advice += "æ¯å‘¨é‹å‹•æ™‚é•·ï¼š3-5 å°æ™‚æº«å’Œé‹å‹•ï¼ˆå¿«èµ°ã€ç‘œä¼½ï¼‰\n"
        advice += "ğŸ¥ å»ºè­°ï¼šæ˜¯ï¼Œè«‹çœ‹é†«ç”Ÿè¨ºæ–·æ˜¯å¦æœ‰ä»£è¬æˆ–ç‡Ÿé¤Šä¸è‰¯å•é¡Œ"
        return advice

class Normal(HealthAdvice):
    """å¥åº·é«”é‡å»ºè­°é¡åˆ¥ï¼ˆ18.5 â‰¤ BMI < 24ï¼‰"""
    def get_info(self, bmi):
        advice = f"BMI {bmi}: æ‚¨çš„é«”é‡æ­£å¸¸\n"
        advice += "é£²é£Ÿå»ºè­°ï¼šç¹¼çºŒä¿æŒå‡è¡¡é£²é£Ÿï¼Œäº”ç©€é›œç³§ã€è”¬æœã€è›‹ç™½è³ªé©é‡\n"
        advice += "æ¯å‘¨é‹å‹•æ™‚é•·ï¼š3.5-5 å°æ™‚ä¸­ç­‰å¼·åº¦é‹å‹•ï¼ˆå¿«èµ°ã€é¨å–®è»Šã€æ¸¸æ³³ï¼‰\n"
        advice += "ğŸ¥ å»ºè­°ï¼šå¦ï¼Œå®šæœŸé«”æª¢å³å¯"
        return advice

class Overweight(HealthAdvice):
    """é«”é‡éé‡å»ºè­°é¡åˆ¥ï¼ˆ24 â‰¤ BMI < 27ï¼‰"""
    def get_info(self, bmi):
        advice = f"BMI {bmi}: æ‚¨çš„é«”é‡éé‡\n"
        advice += "é£²é£Ÿå»ºè­°ï¼šæ¸›å°‘ç²¾ç·»ç³–ã€æ²¹ç‚¸é£Ÿå“ï¼›å¢åŠ è”¬èœæ°´æœå’Œé«˜çº–é£Ÿç‰©\n"
        advice += "æ¯å‘¨é‹å‹•æ™‚é•·ï¼š5-7 å°æ™‚æœ‰æ°§é‹å‹•ï¼ˆè·‘æ­¥ã€å¿«èµ°ã€å¥èº«æ“ï¼‰\n"
        advice += "ğŸ¥ å»ºè­°ï¼šæ˜¯ï¼Œå»ºè­°å°±é†«è©•ä¼°å¿ƒè¡€ç®¡å¥åº·ç‹€æ³"
        return advice

class MildObesity(HealthAdvice):
    """è¼•åº¦è‚¥èƒ–å»ºè­°é¡åˆ¥ï¼ˆ27 â‰¤ BMI < 30ï¼‰"""
    def get_info(self, bmi):
        advice = f"BMI {bmi}: æ‚¨çš„é«”é‡è¼•åº¦è‚¥èƒ–\n"
        advice += "é£²é£Ÿå»ºè­°ï¼šæ§åˆ¶ç†±é‡æ”å–ï¼Œé¿å…é«˜ç³–é«˜æ²¹é£Ÿç‰©ï¼›å¤šåƒè”¬èœå’Œå…¨ç©€é¡\n"
        advice += "æ¯å‘¨é‹å‹•æ™‚é•·ï¼š7 å°æ™‚ä»¥ä¸Šæœ‰æ°§é‹å‹•ï¼ˆè·‘æ­¥ã€æ¸¸æ³³ã€é£›è¼ªï¼‰\n"
        advice += "ğŸ¥ å»ºè­°ï¼šæ˜¯ï¼Œå»ºè­°å°±é†«è©•ä¼°ä»£è¬å’Œå¿ƒè¡€ç®¡é¢¨éšª"
        return advice

class ModerateObesity(HealthAdvice):
    """ä¸­åº¦è‚¥èƒ–å»ºè­°é¡åˆ¥ï¼ˆ30 â‰¤ BMI < 35ï¼‰"""
    def get_info(self, bmi):
        advice = f"BMI {bmi}: æ‚¨çš„é«”é‡ä¸­åº¦è‚¥èƒ–\n"
        advice += "é£²é£Ÿå»ºè­°ï¼šé†«å¸«æˆ–ç‡Ÿé¤Šå¸«ç›£ç£ä¸‹çš„é£²é£Ÿè¨ˆç•«ï¼›åš´æ ¼æ§åˆ¶ç†±é‡\n"
        advice += "æ¯å‘¨é‹å‹•æ™‚é•·ï¼š7+ å°æ™‚ä¸­é«˜å¼·åº¦é‹å‹•ï¼Œé…åˆå°ˆæ¥­æŒ‡å°\n"
        advice += "ğŸ¥ å»ºè­°ï¼šæ˜¯ï¼Œå¿…é ˆå°±é†«ï¼Œè©•ä¼°æ˜¯å¦éœ€è¦è—¥ç‰©æˆ–æ‰‹è¡“æ²»ç™‚"
        return advice

class SevereObesity(HealthAdvice):
    """é‡åº¦è‚¥èƒ–å»ºè­°é¡åˆ¥ï¼ˆBMI â‰¥ 35ï¼‰"""
    def get_info(self, bmi):
        advice = f"BMI {bmi}: æ‚¨çš„é«”é‡é‡åº¦è‚¥èƒ–\n"
        advice += "é£²é£Ÿå»ºè­°ï¼šé†«ç™‚åœ˜éšŠç›£ç£ä¸‹çš„åš´æ ¼é£²é£Ÿè¨ˆç•«\n"
        advice += "æ¯å‘¨é‹å‹•æ™‚é•·ï¼šå°ˆæ¥­é†«ç™‚åœ˜éšŠæŒ‡å°ä¸‹çš„é‹å‹•è¨ˆç•«\n"
        advice += "ğŸ¥ å»ºè­°ï¼šæ˜¯ï¼Œå¿…é ˆç«‹å³å°±é†«ï¼Œå¯èƒ½éœ€è¦æ¸›é‡æ‰‹è¡“è©•ä¼°"
        return advice

# ç°¡å–®å·¥å» 
class AdviceFactory:
    """
    å¥åº·å»ºè­°å·¥å» é¡åˆ¥ï¼ˆç°¡å–®å·¥å» æ¨¡å¼ï¼‰
    
    æ ¹æ“š BMI å€¼è‡ªå‹•é¸æ“‡ä¸¦å‰µå»ºå°æ‡‰çš„å¥åº·å»ºè­°ç‰©ä»¶ã€‚
    é€™ç¨®è¨­è¨ˆæ¨¡å¼å°‡ç‰©ä»¶å‰µå»ºé‚è¼¯é›†ä¸­ç®¡ç†ï¼Œæé«˜ä»£ç¢¼çš„å¯ç¶­è­·æ€§å’Œå¯æ“´å±•æ€§ã€‚
    """
    @staticmethod
    def create_advice(bmi):
        """
        æ ¹æ“š BMI å€¼å‰µå»ºå°æ‡‰çš„å¥åº·å»ºè­°ç‰©ä»¶
        
        Args:
            bmi (float): BMI å€¼
        
        Returns:
            HealthAdvice: å°æ‡‰çš„å¥åº·å»ºè­°ç‰©ä»¶å¯¦ä¾‹
        
        BMI åˆ†é¡æ¨™æº–ï¼š
            - BMI < 18.5: é«”é‡éè¼• (Underweight)
            - 18.5 â‰¤ BMI < 24: å¥åº·é«”é‡ (Normal)
            - 24 â‰¤ BMI < 27: é«”é‡éé‡ (Overweight)
            - 27 â‰¤ BMI < 30: è¼•åº¦è‚¥èƒ– (MildObesity)
            - 30 â‰¤ BMI < 35: ä¸­åº¦è‚¥èƒ– (ModerateObesity)
            - BMI â‰¥ 35: é‡åº¦è‚¥èƒ– (SevereObesity)
        """
        if bmi < 18.5:
            return Underweight()
        elif 18.5 <= bmi < 24:
            return Normal()
        elif 24 <= bmi < 27:
            return Overweight()
        elif 27 <= bmi < 30:
            return MildObesity()
        elif 30 <= bmi < 35:
            return ModerateObesity()
        else:  # bmi >= 35
            return SevereObesity()